doctype html
html
  head
    meta(charset="utf-8")
    link(rel="shortcut icon", href="/favicon.ico")
    title Voucher Page
    style.
      body {
        display: flex;
        flex-direction: column; /* Add this to stack elements vertically */
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
      }
      .voucher-container {
        text-align: center;
        padding: 20px;
        border: 2px solid #ccc;
        border-radius: 5px;
        background-color: #f5f5f5;
        font-size: 40px;
        margin-bottom: 20px; /* Add margin at the bottom of the container */
      }
      .copy-button {
        font-size: 20px; /* Adjust font size for the button */
      }
  body
    .voucher-container
      img(src="/logo.png", alt="Logo" width='50%')
      h1 Your Voucher Code
      p#voucherCode Loading voucher code...
    button#copyButton.copy-button Copy to Clipboard
    script.
      const voucherCode = "#{voucherCode}";
      const voucherCodeElement = document.getElementById("voucherCode");
      const copyButton = document.getElementById("copyButton");

      if (voucherCode && voucherCode !== "No Codes Found") {
        voucherCodeElement.textContent = `Here is your voucher code: ${voucherCode}`;
        copyButton.style.display = "block"; // Display the copy button
      } else {
        voucherCodeElement.textContent = "No voucher code available.";
        copyButton.style.display = "none"; // Hide the copy button
      }

      copyButton.addEventListener("click", () => {
        const textarea = document.createElement("textarea");
        textarea.value = voucherCode;
        document.body.appendChild(textarea);
        textarea.select();
        document.execCommand("copy");
        document.body.removeChild(textarea);

        // Update button text temporarily
        copyButton.textContent = "Copied!";
        setTimeout(() => {
          copyButton.textContent = "Copy to Clipboard";
        }, 1500);
      });